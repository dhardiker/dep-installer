<atlassian-plugin key="${atlassian.plugin.key}" name="${pom.name}" plugins-version="2">
    <plugin-info>
        <description><![CDATA[${pom.description}]]></description>
        <version>${pom.version}</version>
        <vendor name="${pom.organization.name}" url="${pom.organization.url}"/>

        <param name="licenseAcquireUrl">https://licensing.adaptavist.com/acquire</param>
        <param name="licenseAcquirePrivacyUrl">http://licensing.adaptavist.com/privacy</param>
        <bundle-instructions>
            <DynamicImport-Package>com.adaptavist.plm.api</DynamicImport-Package>
        </bundle-instructions>
    </plugin-info>


    <resource type="i18n" name="pageFamilyTagCloud-i18n" location="i18n.i18n" />

    <!-- Licensing -->
    <license key="pack-license" name="Plugin Pack License" family="com.adaptavist.plugin-pack" vendor="com/adaptavist/licensing/cert/ca-adaptavist.pem" class="com.adaptavist.plm.api.License" />
    <license key="product-license" name="License" family="${project.groupId}.${project.artifactId}" vendor="com/adaptavist/licensing/cert/ca-adaptavist.pem" class="com.adaptavist.plm.api.License" />

    <license-request-detail key="plmServerId" class="com.adaptavist.plm.plugin.licensing.details.ServerId" name="" />
    <license-request-detail key="plmEmailAddress" class="com.adaptavist.plm.plugin.licensing.details.EmailAddress" name="" />
    <license-request-detail key="plmLicenseType" class="com.adaptavist.plm.plugin.licensing.details.LicenseType" name="" />
    <license-request-detail key="plmLicensedOrg" class="com.adaptavist.plm.plugin.licensing.details.OrganisationName" name="" />
    <license-request-detail key="plmApplication" class="com.adaptavist.plm.plugin.licensing.details.ApplicationName" name="" />
    <license-request-detail key="plmLicensedUsers" class="com.adaptavist.plm.plugin.licensing.details.UserLimit" name="" />
    <license-request-detail key="plmCommonName" class="com.adaptavist.plm.plugin.licensing.details.UserFullname" name="" />
    <license-request-detail key="plmCountryCode" class="com.adaptavist.plm.plugin.licensing.details.CountryCode" name="" />

    <component name="licenseServiceTracker" key="licenseServiceTracker" class="com.adaptavist.plm.service.DefaultLicenseServiceTracker" />

	<macro name="pagefamily-tagcloud" class="com.adaptavist.confluence.pageFamilyTagCloud.PageFamilyTagCloudMacro"
           key="pagefamilytagcloudmacro" documentation-url="https://www.adaptavist.com/display/free/Page+Family+Tag+Cloud"
           hide-body="true">
		<description>A macro to insert a page family tag cloud into a page</description>
        <category name="confluence-content"/>
        <parameters>
            <parameter name="rootPage" type="string"/>
            <parameter name="sort" type="enum" default="label">
                <value name="label"/>
                <value name="count"/>
            </parameter>
            <parameter name="reverse" type="boolean" default="false"/>
            <parameter name="max" type="int" default="25" />
            <parameter name="includeRootPage" type="boolean" default="true"/>
            <parameter name="labelLink" type="string"/>
        </parameters>
		<resource type="velocity" name="help" location="templates/pageFamilyTagCloud-help.vm">
			<param name="help-section" value="confluence"/>
		</resource>
	</macro>

    <xhtml-macro key="pagefamily-tagcloud-xhtml"
                 name="pagefamily-tagcloud"
                 class="com.adaptavist.confluence.pageFamilyTagCloud.PageFamilyTagCloudMacro4"
                 documentation-url="https://www.adaptavist.com/display/free/Page+Family+Tag+Cloud"
                 hide-body="true">
        <category name="confluence-content"/>
        <parameters>
            <parameter name="rootPage" type="string"/>
            <parameter name="sort" type="enum" default="label">
                <value name="label"/>
                <value name="count"/>
            </parameter>
            <parameter name="reverse" type="boolean" default="false"/>
            <parameter name="max" type="int" default="25" />
            <parameter name="includeRootPage" type="boolean" default="true"/>
            <parameter name="labelLink" type="string"/>
        </parameters>
    </xhtml-macro>

</atlassian-plugin>
